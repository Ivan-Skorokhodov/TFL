# Lab 1 (Скороходов Иван ИУ9-51Б)

Исходная SRS (24 вариант):

1. $\texttt{aa} \to \texttt{E}$
2. $\texttt{bb} \to \texttt{cccc}$
3. $\texttt{cc} \to \texttt{acb}$
4. $\texttt{abc} \to \texttt{aabbcc}$
5. $\texttt{baabaac} \to \texttt{cbba}$

## Завершимость (есть)

Система завершима, рассмотрим вектор V = (n<sub>1</sub>, n<sub>2</sub>, ..., n<sub>k</sub>), где

- каждое n<sub>i</sub> соответствует максимальному относительно n<sub>i</sub> блоку a<sup>n<sub>i</sub></sup>b
- рассматриваем b последовательно слева направо
- если нет b в строке, то вектор пустой

#### Идея: если строка находится в НФ, то V будет либо пустым (если нет b в строке), либо будет состоять только из 0 и 1, так как возможны только случаи cb (0) и ab (1), aab уже не может быть, так как строка тогда не будет находиться в НФ.

Посмотрим на изменения вектора V при применении правил переписывания:

1. $\texttt{aa} \to \texttt{E}$

Если $aa$ находилось в каком-либо блоке, то тогда мы уменьшаем соответствующую координату в V на 2.
Иначе - длина строки уменьшается, и мы не можем применять это правило бесконечно раз само по себе.
А также при его применении мы не попадаем в правило, где снова порождаем $aa$ и до редуцирования $aa$ не могли его применить.

2. $\texttt{bb} \to \texttt{cccc}$

Здесь мы лишаемся двух координат в V.

3. $\texttt{cc} \to \texttt{acb}$.

Мы получаем лишнюю координату в V. Но оценим её значение:

- Дальше не переписывается => 0.
- Дальше переписывается через 5 правило ($\texttt{baabacc} \to \texttt{baabaacb} \to \texttt{cbbab}$) и дальше никак не можем увеличить количество $a$ для расссматриваемой $b$ => 1.
- Редуцируем все $a$ и переписываемся через 3 правило ($\texttt{cacc} \to \texttt{caacb} \to \texttt{ccb}$) и дальше никак к рассматриваемой $b$ не добавить слева $a$ => 0.
- Никакая другая LHS правила не заканчивается на $ac$ или $c$.
- Бесконечно применять это правило мы не можем.

То есть в V добавляются 0 или 1, что нас удовлетворяет.

4. $\texttt{abc} \to \texttt{aabbcc}$

На первый взгляд все плохо, но давайте посмотрим сразу на следующий же примененный шаг:

- Мы можем сразу применить правило 2, и тогда по итогу мы начинали с одной $b$, а закончили с нулем => в V пропадёт координата по итогу.
- Редуцируем все $a$ (уже снижая 2 соответствующие координаты до 0 в V) и можем получить $cbbcc$, $bbbcc$ или $bbcc$, и во всех случаях дальше редуцируем $bb$ (никаккое правило не может разнести $bb$, сохранив их в строке) => в V пропадёт координата по итогу.

5. $\texttt{baabaac} \to \texttt{cbba}$

В этом правиле у нас:

- Начальные координаты в V - n (до первой b могло стоять сколько угодно a) и 2.
- После применения (n, 2) меняются на (0, 0).
- И может один 0 увеличиться до 1 в V, так как возможен случай $\texttt{baabaacb} \to \texttt{cbbab}$.
- Бесконечно применять это правило мы не можем.

То есть во всех правилах у нас состояние вектора V стремиться к состоянию, где строка представлется в НФ, или как в случае первого правила уменьшается длина строки.

## Классы эквивалентности (бесконечное количество)

В данной SRS бесконечное число классов эквивалентности.

Рассмотрим строки $(ab)^n$ ($n\ge1$) - каждая из них является НФ.

## Локальная конфлюэнтность (отсутствует)

![Пример отсутствия локальной клнфлюэнтности](ccc.svg)

Зеленым цветом отмечены НФ (на $M1$ и $M2$ можно не обращать внимание).

## Пополняемость по Кнуту-Бендиксу (не пополняется)

Пополнять будем по армейскому порядку ($a < b < c$).

- Заметим сначала, что $\texttt{abc} \to \texttt{aabbcc}$ можно переписать как $\texttt{abc} \to \texttt{bbcc}$ потому что у нас ни ожно правило не заканчивается на $aab$ и $aa$ точно средуцируют.
- Избавляемся от $ccc$: $\texttt{cacb} \to \texttt{acbc}$
- Избавляемся от $aabc$: $\texttt{cbacbacb} \to \texttt{bc}$
- Избавляемся от $baabaac$: $\texttt{acbacbca} \to \texttt{acbacbc}$
- Избавляемся от $bbb$: $\texttt{acbcbacbc} \to \texttt{bacbacb}$
- Избавляемся от $aacbacbca$: $\texttt{cbacbca} \to \texttt{cbacbc}$ и тогда у нас $\texttt{acbacbca} \to \texttt{acbacbc}$ ($baabaac$) является частным случаем этого, поэтому его вычеркиваем.
- Избавляемся от $aacbcbacbc$: $\texttt{cbcbacbc} \to \texttt{abacbacb}$
- Избавляемся от $cacbb$: $\texttt{bacbc} \to \texttt{acbcb}$
- Избавляемся от $ccbcbacbc$: $\texttt{acbcabacbacb} \to \texttt{cabacbacb}$

Возникает понимание, что не получится переписать исходную SRS в более удобном виде (только $\texttt{abc} \to \texttt{aabbcc}$ заменить на $\texttt{abc} \to \texttt{bbcc}$ ), а новые правила все больше её усложняют.
Поэтому на этом можно остановиться.

## Инварианты

- Четность $b(s) + c(s)$ не изменяется, где $b(s)$ и $c(s)$ - количество букв $b$ и $c$ в строке $s$ соответственно
- Если начальное слово содержит хоть одну букву $b$ или $c$, то не достижимо никакое слово, состоящее только из $а$ (и пустая строка также недостажима)
- Если появилась хоть одна $с$, то от неё уже не избавиться
